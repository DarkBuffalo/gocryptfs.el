#+title: gocryptfs.el

#+HTML: <img src="assets/logo.png" align="right">

gocryptfs.el is an Emacs Lisp package that allows users to mount and unmount a gocryptfs-encrypted directory directly from Emacs.

The package provides interactive commands to:
- mount a private directory encrypted with gocryptfs,
- unmount the corresponding FUSE mount point,
- automatically toggle between mounted and unmounted states.

Its goal is to integrate gocryptfs into the Emacs workflow, eliminating the need to use an external terminal while preserving proper password-handling security practices.


** Security Considerations

- The password is never passed through the shell
- No use of echo | gocryptfs
- No plaintext password storage
- Sensitive input is sent exclusively via the gocryptfs process standard input

** Requirements
- install [[https://github.com/rfjakob/gocryptfs][gocryptfs]]

    #+begin_src sh
      sudo pacman -S gocryptfs
    #+end_src


- Initialize new encrypted filesystem

#+begin_src sh
  gocryptfs -init [OPTIONS] .encrypted
#+end_src

see [[https://github.com/rfjakob/gocryptfs/blob/master/Documentation/MANPAGE.md#initialize-new-encrypted-filesystem][manpage]]

** Installation
#+begin_src elisp
 (use-package gocryptfs
       :straight (:local-repo "~/your folder/gocryptfs")
       :custom
       (gocryptfs-private-dir-name "Perso")
       (gocryptfs-root-dir "~/.encrypted"))
#+end_src


#+BEGIN: github-commits :user DarkBuffalo :repo gocryptfs.el :n 5
* Latest commits
- [[https://github.com/DarkBuffalo/gocryptfs.el/commit/93a039a][93a039a]] - fix: doc
- [[https://github.com/DarkBuffalo/gocryptfs.el/commit/f753abe][f753abe]] - doc: org file
- [[https://github.com/DarkBuffalo/gocryptfs.el/commit/f1af34a][f1af34a]] - add: security
- [[https://github.com/DarkBuffalo/gocryptfs.el/commit/fe43b40][fe43b40]] - fix: minor error
- [[https://github.com/DarkBuffalo/gocryptfs.el/commit/81d69e5][81d69e5]] - fix: readme

#+END:


# Local Variables:
# eval: (defun org-dblock-write:github-commits (params)
#         (let* ((user (or (plist-get params :user) "TON-UTILISATEUR"))
#                (repo (or (plist-get params :repo) "TON-DEPOT"))
#                (num (or (plist-get params :n) 5))
#                (url (format "https://api.github.com/repos/%s/%s/commits?per_page=%d" user repo num))
#                (json (with-temp-buffer
#                        (url-insert-file-contents url)
#                        (json-parse-buffer :array-type 'list))))
#           (insert "* Latest commits\n")
#           (dolist (commit json)
#             (let ((sha (substring (gethash "sha" commit) 0 7))
#                   (message (gethash "message" (gethash "commit" commit))))
#               (insert (format "- [[https://github.com/%s/%s/commit/%s][%s]] - %s\n"
#                               user repo sha sha message))))))
# End:
